xstring = 'type=c, x=55, exp=15.09.2015'
xstring
grep(pattern = ' ', x = xstring)
greppl(pattern = ' ', x = xstring)
grepl(pattern = ' ', x = xstring)
strsplit(xstring, ' ')
strsplit(xstring, ',')
strsplit(xstring, ',')[1]
strsplit(xstring, ',')[1, 2]
strsplit(xstring, '[,]')
strsplit(xstring, "[,]")
unlist(strsplit(xstring, "[,]"))
unlist(strsplit(xstring, "[,]"))[1]
strsplit(unlist(strsplit(xstring, "[,]")), '=')
strsplit((strsplit(xstring, "[,]")), '=')
strsplit(unlist(strsplit(xstring, "[,]")), '=')
str(strsplit(unlist(strsplit(xstring, "[,]")), '='))
assign(c('x', 'y'), c(3, 2))
do.call('<-', list(c('x', 'y'), c(3, 2)))
rm(x)
do.call('<-', list(c('x', 'y'), c(3, 2)))
list(c('x', 'y'), c(3, 2))
names(list(c('x', 'y'), c(3, 2)))
str(list(c('x', 'y'), c(3, 2)))
str(list(a = c('x', 'y'), b = c(3, 2)))
names
names(list(a = c('x', 'y'), b = c(3, 2)))
t(list(a = c('x', 'y'), b = c(3, 2)))
unlist(list(a = c('x', 'y'), b = c(3, 2)))
as.formula(3+2)
as.formula('3+2')
as.formula('x ~ 3+2')
x
'3' + '2'
'3' %+% '2'
testfun = function(...){
print(...)
}
testfun()
testfun('vvv')
testfun(x = 'vvv')
testfun(y = 'vvv')
testfun = function(...){
print(list(...))
}
testfun(y = 'vvv')
library(fOptions)
OptionProfile = function(S.vector, ...){
params = list(...)
TypeFlag = substr(tolower(params$TypeFlag), 1, 1)
X = as.numeric(params$X)
Time = as.numeric(params$Time)/252
r = as.numeric(r)
b = 0
sigma = as.numeric(params$sigma)
result = sapply(S.vector, function(x){
S = x
GBSOption(TypeFlag, S, X, Time, r, b, sigma)
})
return(result)
}
OptionProfile(1:10, TypeFlag='c', X=5, Time=30, r=0.1, sigma=0.2)
OptionProfile = function(S.vector, ...){
params = list(...)
TypeFlag = substr(tolower(params$TypeFlag), 1, 1)
X = as.numeric(params$X)
Time = as.numeric(params$Time)/252
r = as.numeric(params$r)
b = 0
sigma = as.numeric(params$sigma)
result = sapply(S.vector, function(x){
S = x
GBSOption(TypeFlag, S, X, Time, r, b, sigma)
})
return(result)
}
OptionProfile(1:10, TypeFlag='c', X=5, Time=30, r=0.1, sigma=0.2)
OptionProfile = function(S.vector, ...){
params = list(...)
TypeFlag = substr(tolower(params$TypeFlag), 1, 1)
X = as.numeric(params$X)
Time = as.numeric(params$Time)/252
r = as.numeric(params$r)
b = 0
sigma = as.numeric(params$sigma)
result = sapply(S.vector, function(x){
S = x
GBSOption(TypeFlag, S, X, Time, r, b, sigma)@price
})
return(result)
}
OptionProfile(1:10, TypeFlag='c', X=5, Time=30, r=0.1, sigma=0.2)
plot(OptionProfile(1:10, TypeFlag='c', X=5, Time=30, r=0.1, sigma=0.2))
plot(OptionProfile(1:10, TypeFlag='c', X=5, Time=0, r=0.1, sigma=0.2))
plot(OptionProfile(1:10, TypeFlag='c', X=5, Time=0.000001, r=0.1, sigma=0.2))
OptionProfile = function(S.vector, startDate, endDate, ...){
params = list(...)
TypeFlag = substr(tolower(params$TypeFlag), 1, 1)
X = as.numeric(params$X)
Time = params$Time
if(Time == 0)
Time = 0.0000001
if(Time == NULL)
Time = endDate - startDate
Time = as.numeric(params$Time)/252
r = as.numeric(params$r)
b = 0
sigma = as.numeric(params$sigma)
result = sapply(S.vector, function(x){
S = x
GBSOption(TypeFlag, S, X, Time, r, b, sigma)@price
})
return(result)
}
OptionProfile = function(S.vector, startDate=NULL, endDate=NULL, ...){
params = list(...)
TypeFlag = substr(tolower(params$TypeFlag), 1, 1)
X = as.numeric(params$X)
Time = params$Time
if(Time == 0)
Time = 0.0000001
if(Time == NULL)
Time = endDate - startDate
Time = as.numeric(params$Time)/252
r = as.numeric(params$r)
b = 0
sigma = as.numeric(params$sigma)
result = sapply(S.vector, function(x){
S = x
GBSOption(TypeFlag, S, X, Time, r, b, sigma)@price
})
return(result)
}
OptionProfile(1:10, startDate=Sys.Date(), endDate=as.Date('2015-09-15'),  TypeFlag='c', X=5, Time=0, r=0.1, sigma=0.2)
OptionProfile = function(S.vector, startDate=NULL, endDate=NULL, ...){
params = list(...)
TypeFlag = substr(tolower(params$TypeFlag), 1, 1)
X = as.numeric(params$X)
Time = params$Time
if(Time == 0)
Time = 0.0000001
if(Time == NULL)
Time = params$endDate - params$startDate
Time = as.numeric(params$Time)/252
r = as.numeric(params$r)
b = 0
sigma = as.numeric(params$sigma)
result = sapply(S.vector, function(x){
S = x
GBSOption(TypeFlag, S, X, Time, r, b, sigma)@price
})
return(result)
}
OptionProfile(1:10, startDate=Sys.Date(), endDate=as.Date('2015-09-15'),  TypeFlag='c', X=5, Time=0, r=0.1, sigma=0.2)
Sys.Date()
OptionProfile = function(S.vector, startDate=NULL, endDate=NULL, ...){
params = list(...)
TypeFlag = substr(tolower(params$TypeFlag), 1, 1)
X = as.numeric(params$X)
Time = params$Time
if(Time == 0)
Time = 0.0000001
if(is.null(Time))
Time = endDate - startDate
Time = as.numeric(params$Time)/252
r = as.numeric(params$r)
b = 0
sigma = as.numeric(params$sigma)
result = sapply(S.vector, function(x){
S = x
GBSOption(TypeFlag, S, X, Time, r, b, sigma)@price
})
return(result)
}
OptionProfile(1:10, startDate=Sys.Date(), endDate=as.Date('2015-09-15'),  TypeFlag='c', X=5, Time=0, r=0.1, sigma=0.2)
OptionProfile(1:10,   TypeFlag='c', X=5, Time=0, r=0.1, sigma=0.2)
OptionProfile = function(S.vector, startDate=NULL, endDate=NULL, ...){
params = list(...)
TypeFlag = substr(tolower(params$TypeFlag), 1, 1)
X = as.numeric(params$X)
Time = params$Time
if(Time == 0)
Time = 0.0000001
if(is.null(Time))
Time = endDate - startDate
Time = as.numeric(params$Time)/252
r = as.numeric(params$r)
b = 0
sigma = as.numeric(params$sigma)
result = sapply(S.vector, function(x){
S = x
GBSOption(TypeFlag, S, X, Time, r, b, sigma)@price
})
return(result)
}
OptionProfile = function(S.vector, startDate=NULL, endDate=NULL, ...){
params = list(...)
TypeFlag = substr(tolower(params$TypeFlag), 1, 1)
X = as.numeric(params$X)
Time = params$Time
if(Time == 0)
Time = 0.0000001
if(is.null(Time))
Time = endDate - startDate
Time = as.numeric(Time)/252
r = as.numeric(params$r)
b = 0
sigma = as.numeric(params$sigma)
result = sapply(S.vector, function(x){
S = x
GBSOption(TypeFlag, S, X, Time, r, b, sigma)@price
})
return(result)
}
OptionProfile(1:10,   TypeFlag='c', X=5, Time=0, r=0.1, sigma=0.2)
plot(
OptionProfile(1:10,   TypeFlag='c', X=5, Time=0, r=0.1, sigma=0.2)
)
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), TypeFlag='c', X=5, Time=0, r=0.1, sigma=0.2)
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), TypeFlag='c', X=5, r=0.1, sigma=0.2)
OptionProfile = function(S.vector, startDate=NULL, endDate=NULL, ...){
params = list(...)
TypeFlag = substr(tolower(params$TypeFlag), 1, 1)
X = as.numeric(params$X)
Time = params$Time
if(is.null(Time))
Time = endDate - startDate
if(Time == 0)
Time = 0.0000001
Time = as.numeric(Time)/252
r = as.numeric(params$r)
b = 0
sigma = as.numeric(params$sigma)
result = sapply(S.vector, function(x){
S = x
GBSOption(TypeFlag, S, X, Time, r, b, sigma)@price
})
return(result)
}
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), TypeFlag='c', X=5, r=0.1, sigma=0.2)
plot(
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), TypeFlag='c', X=5, r=0.1, sigma=0.2)
)
plot(
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), TypeFlag='c', X=5, r=0.1, sigma=0.2),
type='l'
)
OptionProfile = function(S.vector, startDate=NULL, endDate=NULL, price=0 ...){
params = list(...)
TypeFlag = substr(tolower(params$TypeFlag), 1, 1)
X = as.numeric(params$X)
Time = params$Time
if(is.null(Time))
Time = endDate - startDate
if(Time == 0)
Time = 0.0000001
Time = as.numeric(Time)/252
r = as.numeric(params$r)
b = 0
sigma = as.numeric(params$sigma)
result = sapply(S.vector, function(x){
S = x
GBSOption(TypeFlag, S, X, Time, r, b, sigma)@price
}) - price
return(result)
}
OptionProfile = function(S.vector, startDate=NULL, endDate=NULL, price=0, ...){
params = list(...)
TypeFlag = substr(tolower(params$TypeFlag), 1, 1)
X = as.numeric(params$X)
Time = params$Time
if(is.null(Time))
Time = endDate - startDate
if(Time == 0)
Time = 0.0000001
Time = as.numeric(Time)/252
r = as.numeric(params$r)
b = 0
sigma = as.numeric(params$sigma)
result = sapply(S.vector, function(x){
S = x
GBSOption(TypeFlag, S, X, Time, r, b, sigma)@price
}) - price
return(result)
}
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), price = 2, TypeFlag='c', X=5, r=0.1, sigma=0.2),
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), price = 2, TypeFlag='c', X=5, r=0.1, sigma=0.2)
plot(
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), price = 2, TypeFlag='c', X=5, r=0.1, sigma=0.2),
type='l'
)
OptionProfile = function(S.vector, startDate=NULL, endDate=NULL, price=0, face=1, ...){
params = list(...)
TypeFlag = substr(tolower(params$TypeFlag), 1, 1)
X = as.numeric(params$X)
Time = params$Time
if(is.null(Time))
Time = endDate - startDate
if(Time == 0)
Time = 0.0000001
Time = as.numeric(Time)/252
r = as.numeric(params$r)
b = 0
sigma = as.numeric(params$sigma)
result = sapply(S.vector, function(x){
S = x
GBSOption(TypeFlag, S, X, Time, r, b, sigma)@price
}) - price
result = result * face
return(result)
}
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), price=2, face=1000, TypeFlag='c', X=5, r=0.1, sigma=0.2)
plot(
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), price=2, face=1000, TypeFlag='c', X=5, r=0.1, sigma=0.2),
type='l'
)
OptionProfile = function(S.vector, startDate=NULL, endDate=NULL, price=0, face=1, ...){
library(fOptions)
params = list(...)
TypeFlag = substr(tolower(params$TypeFlag), 1, 1)
X = as.numeric(params$X)
Time = params$Time
if(is.null(Time))
Time = endDate - startDate
if(Time == 0)
Time = 0.0000001
Time = as.numeric(Time)/252
r = as.numeric(params$r)
b = 0
sigma = as.numeric(params$sigma)
result = sapply(S.vector, function(x){
S = x
GBSOption(TypeFlag, S, X, Time, r, b, sigma)@price
}) - price
result = result * face
return(result)
}
FixedIncome = function(startDate=NULL, endDate=NULL, Time=NULL, r=0, price=100, face=1){
Time = params$Time
if(is.null(Time))
Time = endDate - startDate
if(Time == 0)
Time = 0.0000001
Time = as.numeric(Time)/365
result = price * face * (1 + r * Time)
return(result)
}
FixedIncome(Time=100, r=0.1, price=100, face=1000000)
FixedIncome = function(startDate=NULL, endDate=NULL, Time=NULL, r=0, price=100, face=1){
if(is.null(Time))
Time = endDate - startDate
if(Time == 0)
Time = 0.0000001
Time = as.numeric(Time)/365
result = price/100 * face * (1 + r*Time)
return(result)
}
FixedIncome(Time=100, r=0.1, price=100, face=1000000)
plot(
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), price=2, face=1000, TypeFlag='c', X=5, r=0.1, sigma=0.2) +
FixedIncome(Time=100, r=0.1, price=100, face=1000000),
type='l'
)
FixedIncome(Time=100, r=0.1, price=100, face=1000000)
FixedIncome(Time=100, r=0.1, price=100, face=1000000) +
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), price=2, face=1000, TypeFlag='c', X=5, r=0.1, sigma=0.2)
plot(
assetreturn,
type='l'
)
assetreturn = FixedIncome(Time=100, r=0.1, price=100, face=1000000) +
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), price=2, face=1000, TypeFlag='c', X=5, r=0.1, sigma=0.2)
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), price=2, face=1000, TypeFlag='c', X=5, r=0.1, sigma=0.2)
plot(
assetreturn,
type='l'
)
FixedIncome(Time=100, r=0.1, price=100, face=1000000)
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), price=2, face=1000, TypeFlag='c', X=5, r=0.1, sigma=0.2)
assetreturn = FixedIncome(Time=100, r=0.1, price=100, face=1000) +
OptionProfile(1:10,  startDate=Sys.Date(), endDate=as.Date('2015-09-15'), price=2, face=1000, TypeFlag='c', X=5, r=0.1, sigma=0.2)
plot(
assetreturn,
type='l'
)
BaseAsset = function(S.vector=0, TypeFlag=NULL, startDate=NULL, endDate=NULL, Time=NULL, r=0, price=0, face=1){
if(is.null(Time))
Time = endDate - startDate
if(Time == 0)
Time = 0.0000001
Time = as.numeric(Time)/365
if(TypeFlag=='s'){
result = (S.vector - price) * face * (1 + r*Time)
}
return(result)
}
BaseAsset = function(S.vector=0, TypeFlag=NULL, startDate=NULL, endDate=NULL, Time=NULL, r=0, price=0, face=1){
if(is.null(Time))
Time = endDate - startDate
if(Time == 0)
Time = 0.0000001
Time = as.numeric(Time)/365
if(TypeFlag=='s')
result = (S.vector - price) * face * (1 + r*Time)
if(TypeFlag=='f')
result = (S.vector - price) * face * (1 - r*Time)
return(result)
}
BaseAsset(1:10, 's', Time=365, r=0.1, price=5)
BaseAsset = function(S.vector=0, TypeFlag=NULL, startDate=NULL, endDate=NULL, Time=NULL, r=0, price=0, face=1){
if(is.null(Time))
Time = endDate - startDate
if(Time == 0)
Time = 0.0000001
Time = as.numeric(Time)/365
if(TypeFlag=='s')
result = (S.vector - price * (1 + r*Time)) * face
if(TypeFlag=='f')
result = (S.vector - price) * face * (1 - r*Time)
return(result)
}
BaseAsset(1:10, 's', Time=365, r=0.1, price=5)
BaseAsset = function(S.vector=0, TypeFlag=NULL, startDate=NULL, endDate=NULL, Time=NULL, r=0, price=0, face=1){
if(is.null(Time))
Time = endDate - startDate
if(Time == 0)
Time = 0.0000001
Time = as.numeric(Time)/365
if(TypeFlag=='s')
result = (S.vector - price * (1 + r*Time)) * face
if(TypeFlag=='f')
result = (S.vector - price  * (1 - r*Time)) * face
return(result)
}
BaseAsset(1:10, 's', Time=365, r=0.1, price=5)
BaseAsset = function(S.vector=0, TypeFlag=NULL, startDate=NULL, endDate=NULL, Time=NULL, r=0, price=0, face=1){
if(is.null(Time))
Time = endDate - startDate
if(Time == 0)
Time = 0.0000001
Time = as.numeric(Time)/365
if(TypeFlag=='s')
result = (S.vector - price * (1 + r*Time)) * face
if(TypeFlag=='f')
result = (S.vector * (1 - r*Time) - price  ) * face
return(result)
}
BaseAsset(1:10, 's', Time=365, r=0.1, price=5)
